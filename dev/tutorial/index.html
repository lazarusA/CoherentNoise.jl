<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · CoherentNoise.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://mfiano.github.io/CoherentNoise.jl/tutorial/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CoherentNoise.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Visualizing-results"><span>Visualizing results</span></a></li><li><a class="tocitem" href="#Modifiers"><span>Modifiers</span></a></li><li><a class="tocitem" href="#Pipelines"><span>Pipelines</span></a></li><li><a class="tocitem" href="#Fractals"><span>Fractals</span></a></li><li><a class="tocitem" href="#Adding-color"><span>Adding color</span></a></li></ul></li><li><a class="tocitem" href="../gallery/">Gallery</a></li><li><a class="tocitem" href="../reference/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mfiano/CoherentNoise.jl/blob/main/docs/src/tutorial.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="First-steps"><a class="docs-heading-anchor" href="#First-steps">First steps</a><a id="First-steps-1"></a><a class="docs-heading-anchor-permalink" href="#First-steps" title="Permalink"></a></h1><p>Before following along with this tutorial, it is a good idea to get familiar with how to work with samplers. See <a href="getting_started.html">Getting Started</a>.</p><h2 id="Visualizing-results"><a class="docs-heading-anchor" href="#Visualizing-results">Visualizing results</a><a id="Visualizing-results-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizing-results" title="Permalink"></a></h2><p>CoherentNoise provides basic support for generating 2-dimensional slices of noise data, which can be conveniently written to disk as an image file, or rendered with tools such as <a href="https://github.com/JuliaImages/ImageView.jl">ImageView.jl</a>.</p><p>To generate an image that samples from a sampler for each pixel, it is as simple as the following, with <code>sampler</code> being any instance of the supported sampler types:</p><pre><code class="language-julia hljs">sampler = OpenSimplex{2}(seed=1)
gen_image(sampler)</code></pre><p>This produces an array of RGB values using <a href="https://github.com/JuliaImages/Images.jl">Images.jl</a>. You can then, write it out as an image file with something like:</p><pre><code class="language- hljs">using FileIO
img = gen_image(sampler)
save(img, &quot;/tmp/noise.png&quot;)</code></pre><p>Which, for this example, should produce something similar to the following image:</p><p><img src="../assets/tutorial/tutorial01.png" alt/></p><h2 id="Modifiers"><a class="docs-heading-anchor" href="#Modifiers">Modifiers</a><a id="Modifiers-1"></a><a class="docs-heading-anchor-permalink" href="#Modifiers" title="Permalink"></a></h2><p>Modifiers are the backbone of producing interesting noise results. Using a modifier, we can alter the input coordinates before sampling, or the output value after sampling. Modifiers are just samplers, so they have no effect until <code>sample</code> is called on them. We can therefor compose long pipelines of noises generators, and finally evaluate the graph, as the end result is always just an ordinary sampler.</p><p>For example, taking our previous example from <a href="#Visualizing-results">Visualizing results</a>, we can start modifying it with a simple modifier, unary subtraction (negation) of the output values.</p><pre><code class="language-julia hljs">sampler = -OpenSimplex{2}(seed=1)
gen_image(sampler)</code></pre><p><img src="../assets/tutorial/tutorial02.png" alt/></p><p>Notice the <code>-</code> operator in front of the sampler constructor; that was the only change. This modifier simply negates the output values.</p><p>We can get more advanced, by modifying the output values <em>according</em> to the outputs of other samplers. One such modifier is one created by the <code>mix()</code> function. This function accepts 3 samplers as input, and linearly interpolates between the outputs of the first two samplers, using the third sampler&#39;s output as a blending factor.</p><p>Let&#39;s mix our original sampler together with another new sampler, with interpolation controlled by yet another new sampler. But first, let&#39;s see what each of these looks like individually:</p><pre><code class="language-julia hljs">sampler1 = OpenSimplex{2}(seed=1)
sampler2 = OpenSimplex{2}(seed=2)
sampler3 = Perlin{3}(seed=1)
gen_image(sampler1)
gen_image(sampler2)
gen_image(sampler3)</code></pre><table><tr><th style="text-align: center">sampler1</th><th style="text-align: center">sampler2</th><th style="text-align: center">sampler3</th></tr><tr><td style="text-align: center"><img src="../assets/tutorial/tutorial03.png" alt/></td><td style="text-align: center"><img src="../assets/tutorial/tutorial04.png" alt/></td><td style="text-align: center"><img src="../assets/tutorial/tutorial05.png" alt/></td></tr></table><p>Interpolating these with mix is done as follows:</p><pre><code class="language-julia hljs">sampler1 = OpenSimplex{2}(seed=1)
sampler2 = OpenSimplex{2}(seed=2)
sampler3 = Perlin{2}(seed=1)
mixed = mix(sampler1, sampler2, sampler3)
gen_image(mixed)</code></pre><p><img src="../assets/tutorial/tutorial06.png" alt/></p><p>It turns out, this doesn&#39;t look very interesting. This is mostly due to the fact that we are zoomed in very close to the generated noise. By default, <code>gen_image()</code> samples from coordinate [-1.0, 1.0] on both the X and Y axes. This can be tuned with the <code>xbounds</code> and <code>ybounds</code> parameters, but rather than doing that, let&#39;s use the scale modifier instead.</p><p>The scale modifier modifies the input coordinates of a source sampler before it is sampled from. So far we have only seen an output modifying sampler, but one can also modify input coordinates with other modifiers. Here is how we can scale down our previous example. Throughout this tutorial, the full source will be included with each example, to make it easier to copy and paste to your REPL to try things out on your own.</p><pre><code class="language-julia hljs">sampler1 = OpenSimplex{2}(seed=1)
sampler2 = OpenSimplex{2}(seed=2)
sampler3 = Perlin{2}(seed=1)
mixed = mix(sampler1, sampler2, sampler3)
scaled = scale(mixed, 0.25)
gen_image(scaled)</code></pre><p><img src="../assets/tutorial/tutorial07.png" alt/></p><p>We decreased the scale by 4, making the result look much more interesting.</p><p>There are many more modifiers. It is recommended to check out the <a href="reference.html">API Reference</a> for a full list of modifiers (and other samplers). Also, be sure to check out the <a href="gallery.html">Gallery</a> for more examples.</p><h2 id="Pipelines"><a class="docs-heading-anchor" href="#Pipelines">Pipelines</a><a id="Pipelines-1"></a><a class="docs-heading-anchor-permalink" href="#Pipelines" title="Permalink"></a></h2><p>Once you start composing different noises together with modifiers, the code gets a little un-manageable and harder to read. We can leverage Julia&#39;s builtin pipe operator, or more conveniently, the <a href="https://github.com/jkrumbiegel/Chain.jl">Chain.jl</a> package&#39;s <code>@chain</code> macro.</p><p>Let&#39;s rewrite our last example using <code>@chain</code></p><pre><code class="language-julia hljs">@chain mix(OpenSimplex{2}(seed=1), OpenSimplex{2}(seed=2), Perlin{2}(seed=1)) begin
    scale(_, 0.25)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial08.png" alt/></p><p>Admittedly, this doesn&#39;t look that much better, but the more your noise composition grows, the more this variable-free clear flow of control will be appealing. The remainder of this tutorial, as well as the examples in the <a href="gallery.html">Gallery</a> will use <code>@chain</code>, but nothing is forcing you to write the pipeline code manually if this style is not for you.</p><h2 id="Fractals"><a class="docs-heading-anchor" href="#Fractals">Fractals</a><a id="Fractals-1"></a><a class="docs-heading-anchor-permalink" href="#Fractals" title="Permalink"></a></h2><p>Fractals are a type of sampler that applies multiple octaves of a given source sampler, varying their frequency. They make the noise much less regular looking, and offer a good starting point for transforming noises into the desired texture you are trying to simulate, should you be using this library for procedural image generation.</p><p>CoherentNoise has a few different fractal sampler types, all of which will be demonstrated below.</p><p>We will start with the following regular noise, and apply different fractal samplers to it:</p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial09.png" alt/></p><h3 id="FBM"><a class="docs-heading-anchor" href="#FBM">FBM</a><a id="FBM-1"></a><a class="docs-heading-anchor-permalink" href="#FBM" title="Permalink"></a></h3><p>The most basic example is that with only a <code>source</code> argument supplied.</p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    FBM{3}(source=_)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial10.png" alt/></p><p>Already, this is starting to look more natural.</p><p>All fractal samplers have various knobs to tweak to control the output. Please refer to the <a href="reference.html">API Reference</a> for details, but here are some more examples of <code>FBM</code> using our same source sampler:</p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    FBM{3}(seed=1, source=_, octaves=3)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial11.png" alt/></p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    FBM{3}(seed=1, source=_, frequency=3)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial12.png" alt/></p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    FBM{3}(seed=1, source=_, frequency=3, persistence=0.7)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial13.png" alt/></p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    FBM{3}(seed=1, source=_, frequency=3, persistence=0.7, lacunarity=1.2)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial14.png" alt/></p><h3 id="Billow"><a class="docs-heading-anchor" href="#Billow">Billow</a><a id="Billow-1"></a><a class="docs-heading-anchor-permalink" href="#Billow" title="Permalink"></a></h3><p><code>Billow</code> is another fractal sampler type that produces a billowy appearance. It could be used as the basis for a clouds texture, among many other uses. It supports all of the same parameters as FBM. Here is an example:</p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    Billow{3}(seed=1, source=_, frequency=2.5, persistence=0.55, lacunarity=1.7)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial15.png" alt/></p><h3 id="Ridged"><a class="docs-heading-anchor" href="#Ridged">Ridged</a><a id="Ridged-1"></a><a class="docs-heading-anchor-permalink" href="#Ridged" title="Permalink"></a></h3><p><code>Ridged</code> is a fractal (actually a <a href="https://en.wikipedia.org/wiki/Multifractal_system">multifractal</a>) sampler type that produces ridges. It could be used as the basis for a a mountainous terrain texture, among many other uses. It supports all of the same parameters as all other fractals, with the addition of an <code>attenuation</code> parameter Here are some examples:</p><pre><code class="language-julia hljs">@chain OpenSimplex{3}(seed=1) begin
    Ridged{3}(seed=1, source=_, frequency=2.5, persistence=0.4, attenuation=1)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial16.png" alt/></p><pre><code class="language-julia hljs">@chain OpenSimplex2S{3}(seed=1) begin
    Ridged{3}(seed=1, source=_, octaves=6, frequency=1.8, persistence=0.48)
    gen_image
end</code></pre><p><img src="../assets/tutorial/tutorial17.png" alt/></p><p>There are a couple other fractal types they we didn&#39;t go over, but feel free to experiment with them. Their interface is the same as any other fractal type.</p><h2 id="Adding-color"><a class="docs-heading-anchor" href="#Adding-color">Adding color</a><a id="Adding-color-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-color" title="Permalink"></a></h2><p>CoherentNoise works in combination with <a href="https://github.com/JuliaGraphics/ColorSchemes.jl">ColorSchemes.jl</a> to add color to generated images. To do so, just pass the <code>colorscheme</code> keyword argument to <code>gen_image</code> with any color scheme provided by ColorSchemes.jl, or your own. Adding some color to the last <code>Ridged</code> fractal example looks like this:</p><pre><code class="language-julia hljs">@chain OpenSimplex2S{3}(seed=1) begin
    Ridged{3}(seed=1, source=_, octaves=6, frequency=1.2, attenuation=1.3, lacunarity=4.5, persistence=0.58)
    gen_image(_, colorscheme=ColorSchemes.terrain)
end</code></pre><p><img src="../assets/tutorial/tutorial18.png" alt/></p><p>Here is the same thing with the noise output negated with the unary <code>-</code> modifier:</p><pre><code class="language-julia hljs">@chain OpenSimplex2S{3}(seed=1) begin
    Ridged{3}(seed=1, source=_, octaves=6, frequency=1.2, attenuation=1.3, lacunarity=4.5, persistence=0.58)
    -
    gen_image(_, colorscheme=ColorSchemes.terrain)
end</code></pre><p><img src="../assets/tutorial/tutorial19.png" alt/></p><p>That looks pretty interesting. With a bit more work, you could get it to look much more realistic and terrain-like. For example, to make it more arid, you can simply add an <code>abs</code> modifier:</p><pre><code class="language-julia hljs">@chain OpenSimplex2S{3}(seed=1) begin
    Ridged{3}(seed=1, source=_, octaves=6, frequency=1.2, attenuation=1.3, lacunarity=4.5, persistence=0.58)
    -
    abs
    gen_image(_, colorscheme=ColorSchemes.terrain)
end</code></pre><p><img src="../assets/tutorial/tutorial20.png" alt/></p><p>That concludes the basic tutorial. Feel free to experiment with complex noise pipelines, and submit your results as a pull request to be included in the <a href="gallery.html">Gallery</a> section!</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started/">« Getting Started</a><a class="docs-footer-nextpage" href="../gallery/">Gallery »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Thursday 18 August 2022 00:54">Thursday 18 August 2022</span>. Using Julia version 1.8.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
